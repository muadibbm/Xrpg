<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>BioXRPG</title>
        <script>
            var createjs = window; // sets window as the createjs namespace (the object the classes will be defined in)
        </script>
		<script src="lib/jquery-1.8.2.min.js"></script>
        <script src="lib/easeljs-0.5.0.min.js"></script>
		<script src="jscripts/const.js"></script>
		<script src="jscripts/environment.js"></script>
        <script>
            var canvas;
            var stage;
            var text;
            var bgImage;
            var bgBitmap;

            function init() {
                canvas = document.getElementById("gameCanvas");
                //canvas.width = window.innerWidth;
                //canvas.height = window.innerHeight;
                stage = new Stage(canvas);
                text = new Text("Xrpg - Testing", "18px Arial", "#000");
                text.x = 0;
                text.y = 0;

                bgImage = new Image();
                bgImage.src = "images/Background/bg.png";
                bgImage.onload = setImage;
            }

            function setImage(event) {
                bgBitmap = new Bitmap(bgImage);
                bgBitmap.regX = 0;
                bgBitmap.regY = 0;
                console.log(bgBitmap);
                bgBitmap.scaleX = canvas.width / bgImage.width;
                bgBitmap.scaleY = canvas.height / bgImage.height;
                console.log(bgBitmap.image.width);
                console.log(bgBitmap.image.height);
                stage.addChild(bgBitmap);
                //stage.addChild(text);

				Ticker.setFPS(60);
                Ticker.addListener(window);
            }

			// This is like the update function in PlayN
            function tick() {
				//bgBitmap.x += (stage.mouseX - bgBitmap.x) * 0.1;
				//bgBitmap.y += (stage.mouseY - bgBitmap.y) * 0.1;
                stage.update();
            }

        </script>
    </head>

    <body onload="init();">
        <!-- TODO : get window?screen size and width and take only 70% of it -->
        <canvas width="800" height="600" id="gameCanvas"></canvas>

    </body>
</html>